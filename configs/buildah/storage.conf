# Buildah Storage Configuration
# Location: /home/kimia/.config/containers/storage.conf
#
# This file configures how Buildah stores container images and layers.
# For rootless mode (UID 1000), we use VFS driver for maximum compatibility.

[storage]
# Storage driver - VFS is most compatible but slower
# VFS works in all environments without special kernel features
driver = "vfs"

# Runtime directory for active containers
runroot = "/tmp/containers/run"

# Graph root for persistent storage
graphroot = "/home/kimia/.local/share/containers/storage"

[storage.options]
# Ignore chown errors in rootless mode
# This is necessary because rootless users can't change file ownership
vfs.ignore_chown_errors = "true"

[storage.options.overlay]
# Overlay configuration (not used with VFS driver, but kept for reference)
# If you switch to overlay driver, these settings will apply
# Use native kernel overlayfs (empty mount_program means use kernel overlay)
mount_program = ""

# Mount options for overlay
# nodev: Don't interpret character or block special devices
# metacopy: Enable metadata-only copy-up for better performance
mountopt = "nodev,metacopy=on"

# Notes:
# - VFS driver is slower but works everywhere
# - To use overlay driver (faster), change driver="overlay" above
# - Overlay requires kernel support and may not work in all environments
# - For production with good kernel support, overlay is recommended
