registryAuth:
  enabled: true
  secretName: harbor-secret
  key: .dockerconfigjson
  subPathFile: config.json
  mountDir: /home/kimia/.docker
  envVar: REGISTRY_AUTH_FILE
  envPath: /home/kimia/.docker/config.json

builds:
  - name: supervisor
    init:
      - name: ubuntu
        kimiaTag: "latest"
        args:
          context: https://github.com/dockerfile/ubuntu.git
          dockerfile: Dockerfile
          destination: harbor.rfinnovate.rapidfort.io/kimia-e2e/dockerfile/ubuntu
          verbose: true
          extraArgs: []
    main:
      name: supervisor
      kimiaTag: "latest"
      args:
        context: https://github.com/dockerfile/supervisor.git
        dockerfile: Dockerfile
        destination: harbor.rfinnovate.rapidfort.io/kimia-e2e/dockerfile/supervisor
        verbose: true
        extraArgs: [--attestation=max, --sign, --cosign-key=/secrets/cosign.key, --cosign-password-env=COSIGN_PASSWORD]
