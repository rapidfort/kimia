registryAuth:
  enabled: true
  secretName: harbor-secret
  key: .dockerconfigjson
  subPathFile: config.json
  mountDir: /home/kimia/.docker
  envVar: REGISTRY_AUTH_FILE
  envPath: /home/kimia/.docker/config.json

builds:
  - name: minio
    main:
      name: minio-build
      args:
        context: "https://github.com/minio/minio.git"
        dockerfile: "Dockerfile.release"
        destination: "harbor.rfinnovate.rapidfort.io/kimia-e2e/minio"
        verbose: true
        extraArgs: [--build-arg=RELEASE=RELEASE.2025-09-07T16-13-09Z, --build-arg=TARGETARCH=amd64, --attestation=max, --sign, --cosign-key=/secrets/cosign.key, --cosign-password-env=COSIGN_PASSWORD]