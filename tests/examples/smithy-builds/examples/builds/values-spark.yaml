builds:
  - name: spark
    init:
      - name: build-scala-java
        args:
          context: "https://github.com/apache/spark-docker.git"
          contextSubPath: "4.0.0/scala2.13-java21-ubuntu"
          dockerfile: "Dockerfile"
          destination: "10.228.96.114:5000/spark:4.0.0-scala2.13-java21-ubuntu"
          insecureRegistry: "10.228.96.114:5000"
          verbose: true
    main:
      name: build-scala-python
      args:
        context: "https://github.com/apache/spark-docker.git"
        contextSubPath: "4.0.0/scala2.13-java21-python3-ubuntu"
        dockerfile: "Dockerfile"
        destination: "10.228.96.114:5000/myspark"
        insecureRegistry: "10.228.96.114:5000"
        verbose: true